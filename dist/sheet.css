// sheet.js

  // 1) Helper to load the character profile you saved in localStorage
  function loadProfile() {
    const raw = localStorage.getItem('tv_profile');
    if (!raw) return null;
    return JSON.parse(raw);
  }

  // 2) Render the sheet using that profile
  function renderSheet() {
    const p = loadProfile();
    if (!p) {
      // no profile yet – nothing to show
      document.getElementById('sheet-container').innerHTML = '';
      return;
    }

    const { race, class: cls, scores, modifiers } = p;
    // Build a simple table of ability scores + mods
    const rows = Object.keys(scores).map(stat => {
      const score = scores[stat];
      const mod   = modifiers[stat];
      const sign  = mod >= 0 ? '+' : '';
      return `
        <tr>
          <td>${stat}</td>
          <td>${score}</td>
          <td>${sign}${mod}</td>
        </tr>`;
    }).join('');

    // Inject into the page
    document.getElementById('sheet-container').innerHTML = `
      <div id="profile-summary">
        <h2>Your Hero</h2>
        <p>
          <strong>Race:</strong> ${race} | 
          <strong>Class:</strong> ${cls}
        </p>
        <table>
          <thead>
            <tr>
              <th>Stat</th>
              <th>Score</th>
              <th>Mod</th>
            </tr>
          </thead>
          <tbody>
            ${rows}
          </tbody>
        </table>
      </div>`;
  }

  // 3) Run on page load (in case they revisit the sheet directly)
  document.addEventListener('DOMContentLoaded', renderSheet);

  // 4) Expose renderSheet for your enterApp() call in app.js
  window.renderSheet = renderSheet;