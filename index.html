<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="msapplication-tap-highlight" content="no" />
  <title>TaskVenture - Epic Task Management</title>
  <link href="styles.css?v=1755023000" rel="stylesheet" />
  <link href="sheet.css?v=1755023000" rel="stylesheet" />
  <link href="quest-styles.css?v=1755023000" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head><body>

  <!-- SPLASH SCREEN -->
    <div id="splash-screen" class="splash-screen">
     <img src="attached_assets/hero image.png" class="splash-image" alt="TaskVenture Splash">
     <img src="attached_assets/gem.png"         class="gem"          alt="Gem">
     <img src="attached_assets/logo.png"        class="logo"         alt="Logo">
        <button id="reset-wizard" title="Dev: Reset Wizard">🔄</button>
        <button id="play-button">PLAY</button>
    </div>

  <!-- CHARACTER CREATION WIZARD -->
  <div id="wizard" class="hidden">
    <div class="wizard-progress">
      <span class="step active"></span>
      <span class="step"></span>
      <span class="step"></span>
      <span class="step"></span>
    </div>

    <!-- Step 1: Name -->
    <div class="wizard-step active" data-step="0">
      <h2>Choose Your Name</h2>
      <div id="name-container">
        <input type="text" id="name-input" placeholder="Enter your hero’s name…" />
        <button id="name-generate">Generate Random</button>
      </div>
    </div>

    <!-- Step 2: Race -->
    <div class="wizard-step" data-step="1">
      <h2>Choose Your Race</h2>
      <div id="race-grid" class="option-grid"></div>
    </div>

    <!-- Step 3: Gender -->
    <div class="wizard-step" data-step="2">
      <h2>Choose Your Gender</h2>
      <div id="gender-grid" class="option-grid"></div>
    </div>

    <!-- Step 4: Class -->
    <div class="wizard-step" data-step="3">
      <h2>Choose Your Class</h2>
      <div id="class-grid" class="option-grid"></div>
    </div>

    <div class="wizard-nav">
      <button id="wiz-back" disabled>Back</button>
      <button id="wiz-next">Next</button>
    </div>
  </div>

  <!-- MAIN GAME INTERFACE -->
  <div id="game-interface" class="game-interface hidden">

    <!-- Header with Logo -->
    <header class="header">
      <img src="attached_assets/bedroom.png" alt="Header background" class="header-bg">
      <div class="character-avatar" id="header-avatar-container">
        <img id="header-avatar" src="" alt="Character Avatar">
        <img id="avatar-armor" src="" alt="Armor" style="display: none;">
      </div>
    </header>

    <!-- Stats Container -->
    <div class="stats-container">
        <!-- Main Content Section -->
        <div class="main-content-section">
          <div class="left-content">
            <!-- Character Info Section -->
            <div class="character-info">
              <div class="left-group">
                <div class="char-column level-column">
                  <div class="level-label">Level</div>
                  <div class="level-number" id="user-level">1</div>
                </div>
                <div class="char-column name-column">
                  <div class="character-name" id="character-name">Adventurer</div>
                </div>
                <div class="char-column details-column">
                  <div class="character-details" id="character-details">
                    <span id="character-race">Human</span> / <span id="character-class">Fighter</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- XP Section -->
            <div class="xp-section">
              <div class="xp-label">XP</div>
              <div class="xp-bar-container">
                <div class="xp-bar">
                  <div class="xp-fill" id="xp-fill"></div>
                </div>
                <div class="xp-text">
                  <span id="user-xp">0</span> / <span id="xp-next-level">100</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Currency Column -->
          <div class="char-column currency-column">
            <div class="currency-section">
              <div class="currency-item">
                <span class="currency-amount" id="copper-coins">0</span>
                <span class="currency-type"><sub>cp</sub></span>
              </div>
              <div class="currency-item">
                <span class="currency-amount" id="silver-coins">0</span>
                <span class="currency-type"><sub>sp</sub></span>
              </div>
              <div class="currency-item">
                <span class="currency-amount" id="gold-coins">0</span>
                <span class="currency-type"><sub>gp</sub></span>
              </div>
              <div class="currency-item">
                <span class="currency-amount" id="platinum-coins">0</span>
                <span class="currency-type"><sub>pp</sub></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content Pages -->
    <main id="pages" class="main-content">

<!-- Tasks Page -->
      <section id="tasks-page" class="page active">
        <div class="task-section">
          <div class="task-header">
            <h2>Your Quests</h2>
            <!-- Hamburger Menu (only visible on base page) -->
            <div class="hamburger-menu" id="hamburger-menu">
              <button class="hamburger-btn" onclick="toggleHamburgerMenu()">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
              </button>
              <div class="hamburger-dropdown" id="hamburger-dropdown">
                <a href="#" onclick="showPage('wellness-page', null); toggleHamburgerMenu();">
                  <span class="menu-icon">🌟</span>
                  Wellness & Self-Care
                </a>
              </div>
            </div>
          </div>
          <div class="task-input-container">
            <input type="text" id="task-input" placeholder="Enter a new quest…" maxlength="100">
            <button id="add-task-btn">Add Quest</button>
          </div>
          <ul id="task-list" class="task-list"></ul>
        </div>
      </section>

      <!-- Avatar Page -->
      <section id="avatar-page" class="page">
        <div class="avatar-section">
          <div class="avatar-container" id="avatar-customization-container">
            <img id="avatar-cape" class="layered-item cape-layer" src="" alt="Cape" />
            <img id="avatar-armor" class="layered-item armor-layer" src="" alt="Armor" />
            <img id="avatar-boots" class="layered-item boots-layer" src="" alt="Boots" />
            <img id="avatar-weapon" class="layered-item weapon-layer" src="" alt="Weapon" />
          </div>
          <div class="gear-selectors">
            <div class="selector-group">
              <label for="armor-select">Armor:</label>
              <select id="armor-select">
                <option value="">None</option>
                <option value="images/Standard_Armor.png">Iron Armor</option>
                <option value="https://via.placeholder.com/150x250/8b5a3c/ffffff?text=Leather+Armor">Leather Armor</option>
                <option value="https://via.placeholder.com/150x250/d4af37/000000?text=Golden+Armor">Golden Armor</option>
              </select>
            </div>
            <div class="selector-group">
              <label for="boots-select">Boots:</label>
              <select id="boots-select">
                <option value="">None</option>
                <option value="images/Steel_boots.png">Steel Boots</option>
                <option value="images/boots/leather.png">Leather Boots</option>
                <option value="images/boots/golden.png">Golden Boots</option>
                <option value="images/boots/magic.png">Magic Boots</option>
              </select>
            </div>
            <div class="selector-group">
              <label for="weapon-select">Weapon:</label>
              <select id="weapon-select">
                <option value="">None</option>
                <option value="https://via.placeholder.com/150x250/c0c0c0/000000?text=Steel+Sword">Steel Sword</option>
                <option value="https://via.placeholder.com/150x250/8b4513/ffffff?text=Battle+Axe">Battle Axe</option>
                <option value="https://via.placeholder.com/150x250/4b0082/ffffff?text=Magic+Staff">Magic Staff</option>
              </select>
            </div>
            <div class="selector-group">
              <label for="cape-select">Cape:</label>
              <select id="cape-select">
                <option value="">None</option>
                <option value="https://via.placeholder.com/150x250/dc2626/ffffff?text=Red+Cape">Red Cape</option>
                <option value="https://via.placeholder.com/150x250/7c3aed/ffffff?text=Cloak+of+Clarity">Cloak of Clarity</option>
                <option value="https://via.placeholder.com/150x250/059669/ffffff?text=Nature+Cloak">Nature Cloak</option>
              </select>
            </div>
          </div>
        </div>
      </section>

      <!-- Character Sheet Page -->
      <section id="character-sheet-page" class="page">
        <div class="char-sheet-container">
          <div id="sheet-container"></div>
        </div>
      </section>

      <!-- Collection Page -->
      <section id="collection-page" class="page">
        <div class="card-section">
          <h2>Your Collection</h2>
          <div class="card-stats">
            <span>Cards: <span id="card-count">0</span></span>
          </div>
          <div id="card-collection" class="card-collection">
            <div id="collection-grid" class="collection-grid"></div>
          </div>
        </div>
      </section>

      <!-- Quests Page -->
      <section id="dice-page" class="page">
        <div class="quests-section">
          <div id="quest-container" class="quest-container"></div>
        </div>
      </section>

      <!-- Wellness Page -->
      <section id="wellness-page" class="page">
        <div class="wellness-section">
          <h2>🌟 Wellness & Self-Care</h2>
          <p class="wellness-intro">Take care of yourself, adventurer. Your well-being is the foundation of all great quests.</p>

          <!-- Wellness Management -->
          <div class="wellness-management">
            <h3>Wellness Management</h3>
            <div class="wellness-actions">
              <button id="manual-checkin-btn" class="btn-secondary">Daily Wellness Check-In</button>
              <button id="manual-streak-btn" class="btn-secondary">View Streak Status</button>
            </div>
          </div>

          <!-- Wellness Stats Display -->
          <div class="wellness-stats">
            <div class="stat-card">
              <h4>Stress</h4>
              <div class="stat-bar">
                <div class="stat-fill stress-fill" id="stress-bar"></div>
              </div>
              <span id="stress-value">0%</span>
            </div>
            <div class="stat-card">
              <h4>Energy</h4>
              <div class="stat-bar">
                <div class="stat-fill energy-fill" id="energy-bar"></div>
              </div>
              <span id="energy-value">100%</span>
            </div>
            <div class="stat-card">
              <h4>Mood</h4>
              <div class="stat-bar">
                <div class="stat-fill mood-fill" id="mood-bar"></div>
              </div>
              <span id="mood-value">75%</span>
            </div>
            <div class="stat-card">
              <h4>Mindfulness</h4>
              <div class="stat-bar">
                <div class="stat-fill mindfulness-fill" id="mindfulness-bar"></div>
              </div>
              <span id="mindfulness-value">50%</span>
            </div>
          </div>

          <!-- Self-Care Actions -->
          <div class="self-care-section">
            <h3>Self-Care Activities</h3>
            <div class="self-care-grid">
              <button class="self-care-btn" onclick="performSelfCare('meditate')">🧘‍♀️ Meditate (5 min)</button>
              <button class="self-care-btn" onclick="performSelfCare('walk')">🚶‍♂️ Take a Walk</button>
              <button class="self-care-btn" onclick="performSelfCare('journal')">📝 Journal</button>
              <button class="self-care-btn" onclick="performSelfCare('rest')">😴 Rest Break</button>
              <button class="self-care-btn" onclick="performSelfCare('hydrate')">💧 Hydrate</button>
              <button class="self-care-btn" onclick="performSelfCare('breathe')">🌬️ Deep Breathing</button>
            </div>
          </div>

          <!-- Notification Settings -->
          <div class="wellness-notifications">
            <h3>📱 Self-Care Notifications</h3>

            <div class="setting-item">
              <label class="toggle-label">
                <input type="checkbox" id="notifications-toggle" class="toggle-input">
                <span class="toggle-slider"></span>
                Enable Self-Care Reminders
              </label>
              <p class="setting-description">Get gentle reminders to take care of yourself throughout the day.</p>
            </div>

            <div class="notification-settings" id="notification-details" style="display: none;">
              <div class="setting-item">
                <label for="notification-frequency">Reminder Frequency</label>
                <select id="notification-frequency" class="settings-select">
                  <option value="60">Every hour</option>
                  <option value="120" selected>Every 2 hours</option>
                  <option value="180">Every 3 hours</option>
                  <option value="240">Every 4 hours</option>
                </select>
              </div>

              <div class="setting-item">
                <label>Quiet Hours</label>
                <div class="quiet-hours">
                  <input type="time" id="quiet-start" value="22:00" class="time-input">
                  <span>to</span>
                  <input type="time" id="quiet-end" value="07:00" class="time-input">
                </div>
                <p class="setting-description">No notifications during these hours.</p>
              </div>

              <div class="setting-item">
                <label>Activity Reminders</label>
                <div class="activity-toggles">
                  <label class="activity-toggle">
                    <input type="checkbox" id="notify-hydrate" checked>
                    💧 Hydration
                  </label>
                  <label class="activity-toggle">
                    <input type="checkbox" id="notify-breathe" checked>
                    🌬️ Breathing
                  </label>
                  <label class="activity-toggle">
                    <input type="checkbox" id="notify-rest" checked>
                    😴 Rest
                  </label>
                  <label class="activity-toggle">
                    <input type="checkbox" id="notify-walk" checked>
                    🚶‍♂️ Walking
                  </label>
                  <label class="activity-toggle">
                    <input type="checkbox" id="notify-meditate" checked>
                    🧘‍♀️ Meditation
                  </label>
                  <label class="activity-toggle">
                    <input type="checkbox" id="notify-journal" checked>
                    📝 Journaling
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>

  <!-- Confetti Canvas -->
  <canvas id="confetti-canvas" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 9999; display: block;"></canvas>


      </section>

      <!-- Settings Page -->
      <section id="settings-page" class="page">
        <div class="settings-section">
          <h2>Game Settings</h2>

          <!-- Audio Settings -->
          <div class="settings-group">
            <h3>Audio</h3>
            <div class="setting-item">
              <label for="music-volume">Background Music</label>
              <input type="range" id="music-volume" min="0" max="100" value="50">
              <span id="music-value">50%</span>
            </div>
            <div class="setting-item">
              <label for="sfx-volume">Sound Effects</label>
              <input type="range" id="sfx-volume" min="0" max="100" value="75">
              <span id="sfx-value">75%</span>
            </div>
            <div class="setting-item">
              <label for="mute-all">Mute All Audio</label>
              <input type="checkbox" id="mute-all">
            </div>
          </div>

          <!-- Character Settings -->
          <div class="settings-group">
            <h3>Character</h3>
            <div class="setting-item">
              <label for="edit-stats-toggle">Allow Manual Stat Editing</label>
              <input type="checkbox" id="edit-stats-toggle">
            </div>
            <div class="setting-item">
              <button id="reset-character-btn" class="btn-danger">Reset Character</button>
              <p class="setting-description">This will permanently delete your character and start the creation wizard again.</p>
            </div>
          </div>

          <!-- Game Data Settings -->
          <div class="settings-group">
            <h3>Game Data</h3>
            <div class="setting-item">
              <button id="reset-progress-btn" class="btn-danger">Reset All Progress</button>
              <p class="setting-description">This will reset XP, level, streak, tasks, and card collection.</p>
            </div>
            <div class="setting-item">
              <button id="export-data-btn" class="btn-secondary">Export Save Data</button>
              <p class="setting-description">Download your game data as a backup file.</p>
            </div>
          </div>
        </div>
      </section>

    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav" role="navigation" aria-label="Main">

      <!-- 1. Base -->
      <a href="#" class="nav-item active" onclick="showPage('tasks-page', this)">
        <div class="nav-icon"><img src="images/nav/base.png" alt="Base"></div>
        <span class="nav-label">Base</span>
      </a>

      <!-- 2. Avatar -->
      <a href="#" class="nav-item" onclick="showPage('avatar-page', this)">
        <div class="nav-icon"><img src="images/nav/avatar.png" alt="Avatar"></div>
        <span class="nav-label">Avatar</span>
      </a>

      <!-- 3. Stats -->
      <a href="#" class="nav-item" onclick="showPage('character-sheet-page', this)">
        <div class="nav-icon"><img src="images/nav/stats.png" alt="Stats"></div>
        <span class="nav-label">Stats</span>
      </a>

      <!-- 4. Bag -->
      <a href="#" class="nav-item" onclick="showPage('collection-page', this)">
        <div class="nav-icon"><img src="images/nav/bag.png" alt="Bag"></div>
        <span class="nav-label">Bag</span>
      </a>

      <!-- 5. Quests -->
      <a href="#" class="nav-item" onclick="showPage('dice-page', this)">
        <div class="nav-icon"><img src="images/nav/d20.png" alt="Quests"></div>
        <span class="nav-label">Quests</span>
      </a>

      <!-- 6. Settings -->
      <a href="#" class="nav-item" onclick="showPage('settings-page', this)">
        <div class="nav-icon"><img src="images/nav/settings.png" alt="Settings"></div>
        <span class="nav-label">Settings</span>
      </a>
    </nav>

    <!-- Reward Modal -->
    <div id="reward-modal" class="modal hidden">
      <div class="modal-content">
        <h3>Quest Complete!</h3>
        <div id="reward-details" class="reward-details"></div>
        <div id="new-card" class="new-card"></div>
        <button onclick="closeRewardModal()">Continue Adventure</button>
      </div>
    </div>

  </div> <!-- end game-interface -->

  <script src="app.js"   defer></script>
  <script src="wizard.js" defer></script>
  <script src="nav.js"   defer></script>
  <script src="sheet.js" defer></script>
  <script src="dice.js"  defer></script>
  <script src="utils.js" defer></script>
  <script src="settings.js" defer></script>
  <script src="quests.js" defer></script>

    
  </body>
</html>